<html>
<head>
    <title>Upload file</title>
    <link rel="stylesheet" type="text/css" href="css/ViewCandidates.css">
    <script src="/JS/jquery-3.1.0.min.js"></script>
</head>
<body>
    <div id="page">
        <div id="logo">
            <h1><a href="" id="logoLink">Ramarson Content Management System</a></h1>
        </div>

        <div id="nav">
            <ul>
                <li><a href="/Index">Home</a></li>
            </ul>
        </div>

        <div id="content">

            <!-- The Modal -->
            <div id="myModal" class="modal">

                <!-- Modal content -->
                <div class="modal-content">
                    <div class="ClosePopup">x</div>
                    <!--  <object data="E:\Gowri\Personal\GO_Workings\src\CMS\Templates\UploadedDocuments\121102User Management stuff from SD side1.doc">You do not have Word installed on your machine</object>-->
                    <iframe id="doc" style="width: 100%; height: 90%;" name="contentFrame"></iframe>
                </div>

            </div>
            <h2>View candidate information</h2>
            <p>
                - Some Description here.
            </p>
            <div id="searchDiv">
                <div id="wrapper">
                    <form name="formSearch" action="/Search">
                        <div id="searchFieldsWrapper">
                            <label id="searchLabel">Search By</label>
                            <select name="searchType" id="searchType">
                                <option value="name">Name</option>
                                <option value="location">Location</option>
                                <option value="qualification">Qualification</option>
                                <option value="specialization">Specialization</option>
                                <option value="department">department</option>
                            </select>
                            <input type="Text" name="searchBox" id="searchTextBox" />
                            <input type="submit" id="searchButton" class="button" value="Search" />
                        </div>
                    </form>
                    <form name="formSearch" action="/Filter">
                        <div id="filterFieldsWrapper">
                            <label id="filterLabel">Filter By</label>
                            <select name="filterType" id="filterType">
                                <option value="age">Age</option>
                                <option value="experience">Experience</option>
                            </select>
                            <label id="fromLabel">From</label>
                            <input type="number" name="from" id="from" min="0" max="50" value="0" />
                            <label id="toLabel">To</label>
                            <input type="number" name="to" id="to" min="0" max="50" value="0" />
                            <input type="submit" id="filterButton" value="Filter" />
                        </div>
                    </form>
                </div>
                <div id="tableDiv">
                    <table id="tblData">
                        <tr style="background-color:Orange;">
                            <th>Name</th>
                            <th>Age</th>
                            <th>Gender</th>
                            <th>Mobile</th>
                            <th>E-mail</th>
                            <th>Location</th>
                            <th>Qualification</th>
                            <th>Specialization</th>
                            <th>Department</th>
                            <th>Position</th>
                            <th>Experience</th>
                            <th>CV location</th>
                            <th colspan="2">Actions</th>
                            <!-- <th>rewrew</th> -->
                        </tr>
                        {{range .}}
                        <tr>
                            <td>{{.Name}}</td>
                            <td> {{.Age}}</td>
                            <td>{{.Gender}}</td>
                            <td> {{.Mobile}}</td>
                            <td>{{.Email}}</td>
                            <td>{{.Location}}</td>
                            <td> {{.Qualification}}</td>
                            <td>{{.Specialization}}</td>
                            <td> {{.Department}}</td>
                            <td>{{.Position}}</td>
                            <td> {{.Experience}} Years</td>
                            <td> {{.CvPath}}</td>
                            <td>
                                <!--  <form name="formSearch" action="/EditData"> -->
                                <a href="/EditData?mobileNumber={{.Mobile}}" title="Click to Edit">Edit</a>
                                <input type="hidden" name="MobileID" value="{{.Mobile}}" />
                                <!--  </form> -->

                            </td>
                            <td> <div class="viewDoc"><a style="cursor: pointer;" id="/Files/{{.CvPath}}"><img src="/images/View.png" style="width:25px;height:25px;" title="Click to view" /> </a></div></td>
                        </tr>
                        {{end}}
                    </table>
                </div>
            </div>
        </div>
        <div id="footer">
            <p> Ramarson Technology Developers LLP.	</p>
        </div>
    </div>
</body>
</html>
<script>

    var modal = document.getElementById('myModal');
    var span = document.getElementsByClassName("ClosePopup")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
        $("#doc").attr('src', '');
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
            $("#doc").attr('src', '');
        }
    }

    $(document).ready(function () {

        $(".viewDoc a").live('click', function (e) {

            var contentId = $(this).attr('id');

            var iFrame = document.getElementById("doc");
            //alert(iFrame);
            $("#doc").attr('src', contentId);
            //http://docs.google.com/gview?url=http://domain.com/path/docFile.doc&embedded=true");
            //alert(contentId.split('.').pop());

            if (contentId.split('.').pop() == 'pdf') {
                modal.style.display = "block";
            }
            else { modal.style.display = "none"; }// StatusSlideDown("File downloaded"); }
            //alert('l');
        });


    });

</script>
